ğŸ”Œ Motor Driver (L298N) to ESP32

Your ESP32 is generating PWM signals on pins 26, 27, 32, 33.

IN1 â†’ GPIO 26 (Right motor forward channel)

IN2 â†’ GPIO 27 (Right motor reverse channel)

IN3 â†’ GPIO 32 (Left motor forward channel)

IN4 â†’ GPIO 33 (Left motor reverse channel)

ENA/ENB pins of L298N are not used here, because youâ€™re controlling direction/speed directly with PWM on IN1â€“IN4. Leave ENA/ENB jumpered HIGH if your module has enable pins.

ğŸ”‹ L298N Power Connections

L298N +12V (or +V_s) â†’ Motor power supply (e.g., 7.4â€“12V Li-ion pack, depending on your motors).

L298N GND â†’ Motor power ground.

ESP32 GND â†’ L298N GND (common ground is mandatory).

L298N +5V output â†’ ESP32 VIN (optional) if your module has onboard 5V regulator and your motor supply is >7V. Otherwise, power ESP32 separately via USB or regulated 5V.

OUT1 & OUT2 â†’ Right motor terminals

OUT3 & OUT4 â†’ Left motor terminals

âš« IR Sensors to ESP32

Your code defines:

IR_LEFT â†’ GPIO 34

IR_CENTER â†’ GPIO 25

IR_RIGHT â†’ GPIO 35

Each IR sensor usually has 3 pins: VCC, GND, OUT

VCC â†’ 3.3V (ESP32 works at 3.3V, so safer to use that, not 5V).

GND â†’ ESP32 GND

OUT â†’ ESP32 pin (34, 25, 35) as per above

ğŸ“ Full Wiring Summary

ESP32 â†’ L298N

GPIO 26 â†’ IN1

GPIO 27 â†’ IN2

GPIO 32 â†’ IN3

GPIO 33 â†’ IN4

GND â†’ GND

ESP32 â†’ IR Sensors

GPIO 34 â†’ OUT (Left)

GPIO 25 â†’ OUT (Center)

GPIO 35 â†’ OUT (Right)

3.3V â†’ VCC (all sensors)

GND â†’ GND (all sensors)

L298N â†’ Motors

OUT1, OUT2 â†’ Right motor

OUT3, OUT4 â†’ Left motor

Power

Motor battery â†’ L298N +12V (or +Vs)

Battery GND â†’ L298N GND & ESP32 GND

L298N +5V (regulator output) â†’ ESP32 VIN (optional if powering from motor battery)